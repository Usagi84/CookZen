<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CookZen - Recettes Premium</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #f8f8f8;
    }

    /* th√®mes */
    body.rouge { background-color: #ffeded; color: #a80000; }
    body.bleu { background-color: #e6f0ff; color: #003d99; }
    body.violet { background-color: #f0e6ff; color: #4b0082; }

    /* navbar/footer */
    .footer {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 120px;
      background: #db3131;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 32px;
      z-index: 10;
    }

    .barre { position: fixed; top: 120px; left: 0; width: 100%; height: 8px; background: black; z-index: 9; }

    .bottom-nav {
      position: fixed; bottom: 0; left: 0;
      width: 100%; height: 60px;
      background: #fff; border-top: 1px solid #ccc;
      display: flex; justify-content: space-around; align-items: center; z-index: 20;
    }

    .nav-btn { text-decoration: none; background: none; border: none; font-size: 34px; cursor: pointer; color: #8f8989; }

    .contenu {
      margin-top: 140px;
      padding: 20px;
      font-size: 18px;
      transition: filter 0.3s ease;
    }

    .blurred { filter: blur(6px); pointer-events: none; user-select: none; }

    #pay-overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 50;
      flex-direction: column;
      color: white;
      font-size: 24px;
    }

    #paypal-button-container { margin-top: 20px; }

    .recette-item { margin-bottom: 30px; border-bottom: 1px solid #ccc; padding-bottom: 15px; position: relative; }
    .recette-title { font-size: 20px; font-weight: bold; padding-left: 40px; }
    .voir-btn, .etape-btn { margin-top: 6px; padding: 6px 12px; font-size: 14px; background: #db3131; color: white; border: none; border-radius: 6px; cursor: pointer; display: inline-block; transition: background-color 0.3s ease; }
    .heart { font-size: 26px; color: #db3131; cursor: pointer; position: absolute; left: 0; top: 0; transition: 0.3s; }
    .heart.fav { color: red; }

    #searchInput { display: block; margin: 0 auto 20px auto; padding: 10px; width: 90%; max-width: 400px; border-radius: 10px; border: 1px solid #ccc; }
  </style>
</head>
<body>

<div class="footer">
  <div class="cookzen-title">CookZen</div>
</div>
<div class="barre"></div>
<div class="bottom-nav">
  <a class="nav-btn" href="index.html">üè†</a>
  <a class="nav-btn" href="premium1.html">üîí</a>
  <a class="nav-btn" href="favoris.html">‚ù§Ô∏è</a>
  <a class="nav-btn" href="parametres.html">‚öôÔ∏è</a>
</div>

<div class="contenu blurred" id="mainContent">
  <input type="text" id="searchInput" placeholder="Rechercher une recette..." onkeyup="filterRecipes()">
  
  <!-- Exemple de recettes -->
  <div class="recette-item" data-id="pain">
    <span class="heart">ü§ç</span>
    <div class="recette-title">üçû Pain sans gluten
      <button class="voir-btn" onclick="afficheRecette('pain')">Voir</button>
    </div>
    <div id="pain" class="recette-content">
      <ul>
        <li>250 g de farine de riz</li>
        <li>50 g de farine de sarrasin</li>
        <li>50 g de f√©cule de ma√Øs</li>
        <li>1 c. √† caf√© de sel</li>
      </ul>
      <a class="etape-btn" href="pain.html">Voir les √©tapes</a>
    </div>
  </div>
  <!-- Ajoute les autres recettes ici -->
</div>

<div id="pay-overlay">
  <div>Acheter le pass de recettes pour 0,99 ‚Ç¨</div>
  <div id="paypal-button-container"></div>
</div>

<!-- SDK PayPal -->
<script src="https://www.paypal.com/sdk/js?client-id=AT_MGYX4SEq8NxKq0dH6GJUYzstXg0_s9vUxJ4eIcOGBesHJqIXOnCczXtzy5pOLeqkLHzLZGKcbPpti&currency=EUR"></script>

<script>
  // Gestion PayPal
  paypal.Buttons({
    style: { color: 'blue', shape: 'rect', label: 'paypal', layout: 'vertical' },
    createOrder: function(data, actions) {
      return actions.order.create({ purchase_units: [{ amount: { value: '0.99' } }] });
    },
    onApprove: function(data, actions) {
      return actions.order.capture().then(function(details) {
        alert('‚úÖ Paiement r√©ussi ! Merci ' + details.payer.name.given_name);
        document.getElementById('mainContent').classList.remove('blurred');
        document.getElementById('pay-overlay').style.display = 'none';
      });
    }
  }).render('#paypal-button-container');

  // Recettes et favoris
  function getFavoris() { const favoris = localStorage.getItem('favoris'); return favoris ? JSON.parse(favoris) : []; }
  function saveFavoris(favoris) { localStorage.setItem('favoris', JSON.stringify(favoris)); }
  function updateHearts() { const favoris = getFavoris(); document.querySelectorAll('.recette-item').forEach(item => { const id = item.dataset.id; const heart = item.querySelector('.heart'); favoris.includes(id) ? (heart.textContent='‚ù§Ô∏è', heart.classList.add('fav')) : (heart.textContent='ü§ç', heart.classList.remove('fav')); }); }
  function setupHearts() { document.querySelectorAll('.heart').forEach(heart => { heart.addEventListener('click', () => { const item = heart.closest('.recette-item'); const id = item.dataset.id; let favoris = getFavoris(); favoris.includes(id) ? (favoris=favoris.filter(favId=>favId!==id)) : favoris.push(id); saveFavoris(favoris); updateHearts(); }); }); }
  function filterRecipes() { const search = document.getElementById('searchInput').value.toLowerCase(); document.querySelectorAll('.recette-item').forEach(item => { const title = item.querySelector('.recette-title').textContent.toLowerCase(); item.style.display = title.includes(search) ? '' : 'none'; }); }

  document.addEventListener('DOMContentLoaded', () => {
    updateHearts();
    setupHearts();
    document.getElementById('searchInput').addEventListener('input', filterRecipes);
    const savedTheme = localStorage.getItem('cookzenTheme');
    if(savedTheme) document.body.className = savedTheme;
  });

  function afficheRecette(id) {
    const recette = document.getElementById(id);
    if(!recette) return;
    recette.style.display = recette.style.display==='block' ? 'none' : 'block';
  }
</script>
</body>
</html>
